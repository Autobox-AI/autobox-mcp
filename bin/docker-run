#!/bin/bash

set -e

if [ -z "$OPENAI_API_KEY" ]; then
  echo "Error: OPENAI_API_KEY environment variable is not set"
  exit 1
fi

docker run -it --rm \
  -e OPENAI_API_KEY="$OPENAI_API_KEY" \
  -e HOST_HOME="$HOME" \
  -e HOST_USER="$USER" \
  -v /var/run/docker.sock:/var/run/docker.sock \
  -v "$HOME/.autobox:/root/.autobox" \
  autobox-mcp:latest
